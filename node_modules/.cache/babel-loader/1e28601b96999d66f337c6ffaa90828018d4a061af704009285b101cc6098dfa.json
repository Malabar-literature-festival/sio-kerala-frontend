{"ast":null,"code":"var _jsxFileName = \"/Users/azharpallikkandy/Documents/projects/DataHex/dfms/dfms-admin/src/components/elements/list/list.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { Table, Th, Button, Td, Tr, Count, ArrowButton, AddButton, ButtonPanel, Filter, Filters, ToggleContainer, ToggleInput, ToggleSlider, NoData, ScrollLayout, FilterBox } from \"./styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RowContainer } from \"../../styles/containers/styles\";\nimport { AddIcon, FilterIcon, GetIcon, NextIcon, PreviousIcon } from \"../../../icons\";\nimport { useNavigate } from \"react-router-dom\";\nimport { deleteData, postData, putData } from \"../../../backend/api\";\nimport CrudForm from \"./create\";\nimport { useTranslation } from \"react-i18next\";\nimport { addPageObject } from \"../../../store/actions/pages\";\nimport FormInput from \"../input\";\nimport Manage from \"./manage\";\nimport Loader from \"../loader\";\nimport Search from \"../search\";\nimport SubPage from \"./subPage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListTable = _ref => {\n  _s();\n  var _users$data2, _users$data2$data, _users$data3, _users$data3$response, _subAttributes$item, _subAttributes$item$a;\n  let {\n    referenceId = 0,\n    actions = [],\n    api,\n    setMessage,\n    attributes = [],\n    addPrivilege = true,\n    delPrivilege = true,\n    updatePrivilege = true,\n    shortName = \"Item\",\n    itemTitle = \"title\"\n  } = _ref;\n  const users = useSelector(state => state.pages[`${api}${referenceId === 0 ? \"\" : `/${referenceId}`}`] ? state.pages[`${api}${referenceId === 0 ? \"\" : `/${referenceId}`}`] : {\n    data: null,\n    isLoading: true,\n    error: null\n  });\n  const [showSublist, setShowSubList] = useState(false);\n  const [currentApi] = useState(`${api}${referenceId === 0 ? \"\" : `/${referenceId}`}`);\n  const [subAttributes, setSubAttributes] = useState(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [count, setCount] = useState(0);\n  const themeColors = useSelector(state => state.themeColors);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [t] = useTranslation();\n  const [showLoader, setShowLoader] = useState(false);\n  /**\n   * Function to set the showLoader state.\n   * @param {boolean} status The status of the loader.\n   */\n  const setLoaderBox = status => {\n    setShowLoader(status);\n  };\n  // processing attributes\n  const [initialized, setInitialized] = useState(false);\n  const [prevCrud, setPrevCrud] = useState(\"\");\n  const [formInput, setFormInput] = useState([]);\n  const [errroInput, setErrorInput] = useState([]);\n  const [addValues, setAddValues] = useState({});\n  const [updateId, setUpdateId] = useState(\"\");\n  const [updateValues, setUpdateValues] = useState({});\n  const [udpateView, setUpdateView] = useState(() => {});\n  const [filterView, setFilterView] = useState({});\n  useEffect(() => {\n    const addValuesTemp = {\n      addValues: {},\n      updateValues: {},\n      viewValues: {},\n      errorValues: {},\n      filterValues: {}\n    };\n    let tempFilter = false;\n    let date = new Date();\n    attributes.forEach(item => {\n      if (item.type === \"checkbox\") {\n        let bool = JSON.parse(item.default === \"false\" || item.default === \"true\" ? item.default : \"false\");\n        if (item.add) {\n          addValuesTemp.addValues[item.name] = bool;\n        }\n        addValuesTemp.updateValues[item.name] = bool;\n      } else if (item.type === \"datetime\" || item.type === \"date\" || item.type === \"time\") {\n        addValuesTemp.addValues[item.name] = date.toISOString();\n        if (item.add) {\n          addValuesTemp.updateValues[item.name] = date.toISOString();\n        }\n      } else if (item.type === \"image\" || item.type === \"file\") {\n        if (item.add) {\n          addValuesTemp.addValues[item.name] = \"\";\n          addValuesTemp.addValues[\"selected_\" + item.name] = [];\n        }\n        addValuesTemp.updateValues[item.name] = \"\";\n        addValuesTemp.updateValues[\"selected_\" + item.name] = [];\n      } else {\n        if (item.add) {\n          addValuesTemp.addValues[item.name] = item.default;\n        }\n        addValuesTemp.updateValues[item.name] = item.default;\n        if (item.type === \"select\") {\n          addValuesTemp.filterValues[item.name] = \"\";\n          tempFilter = true;\n        }\n      }\n      addValuesTemp.errorValues[item.name] = \"\";\n      addValuesTemp.filterValues[\"searchkey\"] = \"\";\n    });\n    setFormInput(attributes);\n    setAddValues(addValuesTemp.addValues);\n    setErrorInput(addValuesTemp.errorValues);\n    setUpdateValues(addValuesTemp.updateValues);\n    setFilterView(addValuesTemp.filterValues);\n    setFilter(tempFilter);\n    setInitialized(true);\n  }, [attributes, dispatch, setPrevCrud, prevCrud, setFormInput, setAddValues, setUpdateValues, setFilterView]);\n\n  // end processing attributes\n  useEffect(() => {\n    var _users$data;\n    setLoaderBox(users.isLoading);\n    if (currentIndex === 0 && (_users$data = users.data) !== null && _users$data !== void 0 && _users$data.count) {\n      setCount(users.data.count);\n    }\n  }, [users, currentIndex]);\n  useEffect(() => {\n    if (initialized) {\n      dispatch(addPageObject(currentApi, currentIndex, filterView));\n    }\n  }, [initialized, currentApi, currentIndex, dispatch, filterView]);\n  const refreshView = currentIndex => {\n    try {\n      dispatch(addPageObject(currentApi, currentIndex, filterView));\n    } catch {}\n  };\n\n  //crud functions\n  const [isCreating, setIsCreating] = useState(false);\n  const isCreatingHandler = (value, callback) => {\n    if (isCreating) {\n      setUpdateView(() => callback);\n      setIsCreating(false);\n      navigate({}, \"\", window.location.pathname);\n    } else {\n      window.location.hash = \"add\";\n      setIsCreating(true);\n    }\n  };\n  const [isEditing, setIsEditing] = useState(false);\n  const isEditingHandler = (value, callback) => {\n    setLoaderBox(true);\n    if (!isEditing) {\n      setUpdateView(() => callback);\n      const updateValues = {};\n      setUpdateId(value._id);\n      formInput.forEach(item => {\n        if (item.update) {\n          if (item.type === \"checkbox\") {\n            let bool = value[item.name].toString() === \"true\" ? true : false;\n            updateValues[item.name] = bool;\n          } else if (item.type === \"select\") {\n            var _value$item$name;\n            console.log(typeof value[item.name]);\n            updateValues[item.name] = typeof value[item.name] === \"undefined\" ? \"\" : typeof value[item.name] === \"string\" || typeof value[item.name] === \"number\" ? value[item.name] : (_value$item$name = value[item.name]) !== null && _value$item$name !== void 0 && _value$item$name._id ? value[item.name]._id : \"\";\n          } else if (item.type === \"image\") {\n            updateValues[\"selected_\" + item.name] = [];\n            updateValues[item.name] = value[item.name] ? value[item.name] : \"\";\n          } else {\n            updateValues[item.name] = value[item.name] ? value[item.name] : \"\";\n          }\n        }\n      });\n      setUpdateValues(updateValues);\n      setIsEditing(true);\n      window.location.hash = \"edit\";\n    } else {\n      setUpdateId(\"\");\n      navigate({}, \"\", window.location.pathname);\n      setIsEditing(false);\n    }\n    setLoaderBox(false);\n  };\n  const deleteHandler = async function (item) {\n    let id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    await deleteData({}, currentApi, id).then(response => {\n      if (response.status === 200) {\n        setMessage({\n          type: 1,\n          content: `The '${item.title ? item.title : shortName}' deleted successfully!`,\n          proceed: t(\"okay\")\n        });\n        setCount(count => count - 1);\n        setIsCreating(false);\n        refreshView();\n        // udpateView(0);\n      } else if (response.status === 404) {\n        setMessage({\n          type: 1,\n          content: \"User not found!\",\n          proceed: \"Okay\"\n        });\n      } else {\n        setMessage({\n          type: 1,\n          content: \"Something went wrong!\",\n          proceed: \"Okay\"\n        });\n      }\n      setLoaderBox(false);\n    }).catch(error => {\n      setMessage({\n        type: 1,\n        content: error.message + \"Something went wrong!\",\n        proceed: \"Okay\"\n      });\n      setLoaderBox(false);\n    });\n  };\n  const [action, setActions] = useState([]);\n  const openAction = (item, data) => {\n    // Actions Window\n    setActions({\n      item,\n      data\n    });\n    // setMessage({ type: 1, content: item.title + \" / \" + data._id, proceed: \"Okay\" });\n  };\n\n  const submitHandler = async data => {\n    setLoaderBox(true);\n    await postData(data, currentApi).then(response => {\n      if (response.status === 200) {\n        setMessage({\n          type: 1,\n          content: `The '${shortName}' saved successfully!`,\n          proceed: \"Okay\"\n        });\n        setIsCreating(false);\n        refreshView();\n        // udpateView(0);\n      } else if (response.status === 404) {\n        setMessage({\n          type: 1,\n          content: \"User not found!\",\n          proceed: \"Okay\"\n        });\n      } else {\n        setMessage({\n          type: 1,\n          content: \"Something went wrong!\",\n          proceed: \"Okay\"\n        });\n      }\n      setLoaderBox(false);\n    }).catch(error => {\n      setMessage({\n        type: 1,\n        content: error.message + \"Something went wrong!\",\n        proceed: \"Okay\"\n      });\n      setLoaderBox(false);\n    });\n  };\n  const updateHandler = async data => {\n    setLoaderBox(true);\n    await putData(data, `${currentApi}/${updateId}`).then(response => {\n      if (response.status === 200) {\n        setMessage({\n          type: 1,\n          content: `The '${shortName}' updated successfully!`,\n          proceed: \"Okay\"\n        });\n        refreshView();\n        setIsEditing(false);\n      } else if (response.status === 404) {\n        setMessage({\n          type: 1,\n          content: \"User not found!\",\n          proceed: \"Okay\"\n        });\n      } else {\n        setMessage({\n          type: 1,\n          content: \"Something went wrong!\",\n          proceed: \"Okay\"\n        });\n      }\n      setLoaderBox(false);\n    }).catch(error => {\n      alert(error);\n      setLoaderBox(false);\n    });\n  };\n  const filterChange = (option, name) => {\n    const udpateValue = {\n      ...filterView,\n      [name]: option.id\n    };\n    // updating the formm values\n    setFilterView(udpateValue);\n  };\n  const closeManage = () => {\n    setActions([]);\n  };\n  const TableRowWithActions = _ref2 => {\n    let {\n      attributes,\n      data\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(Tr, {\n      children: [attributes.map(attribute => {\n        var _data$attribute$name, _data$attribute$name2, _data$attribute$name3;\n        return attribute.view && /*#__PURE__*/_jsxDEV(Td, {\n          children: (_data$attribute$name = data[attribute.name]) !== null && _data$attribute$name !== void 0 && _data$attribute$name.title ? (_data$attribute$name2 = data[attribute.name]) === null || _data$attribute$name2 === void 0 ? void 0 : _data$attribute$name2.title : (_data$attribute$name3 = data[attribute.name]) === null || _data$attribute$name3 === void 0 ? void 0 : _data$attribute$name3.toString()\n        }, `${attribute.name}-${data._id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 58\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Td, {\n        className: \"actions\",\n        children: [delPrivilege && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            setMessage({\n              type: 2,\n              content: t(\"deleteRequest\", {\n                label: data[itemTitle] ? data[itemTitle].toString() : \"Item\"\n              }),\n              proceed: t(\"delete\"),\n              onProceed: deleteHandler,\n              data: data\n            });\n          },\n          className: \"delete\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: t(\"delete\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(GetIcon, {\n            icon: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)]\n        }, `delete-${data._id}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), updatePrivilege && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            isEditingHandler(data, udpateView);\n          },\n          className: \"edit\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: t(\"edit\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(GetIcon, {\n            icon: \"edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, `edit-${data._id}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this), actions.map(item => {\n          return item.element === \"button\" ? /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              if (item.type === \"callback\") {\n                item.callback(item, data);\n              } else if (item.type === \"call\") {\n                window.location.href = `tel:${data.mobileNumber}`;\n              } else if (item.type === \"subList\") {\n                setSubAttributes({\n                  item,\n                  data\n                });\n                setShowSubList(true);\n              } else {\n                openAction(item, data);\n              }\n            },\n            className: \"edit\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: t(item.title)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(GetIcon, {\n              icon: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)]\n          }, `custom-${item.id}-${data._id}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ToggleContainer, {\n            children: [/*#__PURE__*/_jsxDEV(ToggleInput, {\n              type: \"checkbox\",\n              checked: data[item.id],\n              onChange: async event => {\n                // item.callback(item, data);\n                setLoaderBox(true);\n                await postData({\n                  status: event.target.checked\n                }, `${item.api}/${data._id}`).then(response => {\n                  if (response.status === 200) {\n                    var _response$data;\n                    if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.message) {\n                      var _response$data2;\n                      setMessage({\n                        type: 1,\n                        content: t((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message),\n                        proceed: t(\"okay\")\n                      });\n                    }\n                    //\n                    refreshView();\n                    // setIsEditing(false);\n                  } else if (response.status === 404) {\n                    refreshView();\n                    setMessage({\n                      type: 1,\n                      content: t(\"error\"),\n                      proceed: \"Okay\"\n                    });\n                  } else {\n                    refreshView();\n                    setMessage({\n                      type: 1,\n                      content: t(\"error\"),\n                      proceed: \"Okay\"\n                    });\n                  }\n                  // setLoaderBox(false);\n                }).catch(error => {\n                  alert(error);\n                  // setLoaderBox(false);\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ToggleSlider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)]\n          }, `${item.id}-${data._id}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, `${shortName}-${data._id}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  };\n  const closeModal = () => {\n    setShowSubList(false);\n  };\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [filter, setFilter] = useState(false);\n  const searchTimeoutRef = useRef();\n  const handleChange = event => {\n    clearTimeout(searchTimeoutRef.current);\n    setSearchValue(event.target.value);\n    searchTimeoutRef.current = setTimeout(() => {\n      setFilterView({\n        ...filterView,\n        searchkey: event.target.value\n      });\n    }, 300);\n  };\n  useEffect(() => {\n    return () => {\n      clearTimeout(searchTimeoutRef.current);\n    };\n  }, []);\n  //end crud functions\n  return /*#__PURE__*/_jsxDEV(RowContainer, {\n    children: [/*#__PURE__*/_jsxDEV(ButtonPanel, {\n      children: [/*#__PURE__*/_jsxDEV(FilterBox, {\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          theme: themeColors,\n          placeholder: \"Search\",\n          value: searchValue,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), filter && /*#__PURE__*/_jsxDEV(Filter, {\n          theme: themeColors,\n          onClick: () => {\n            refreshView(currentIndex);\n          },\n          children: /*#__PURE__*/_jsxDEV(FilterIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Filters, {\n        children: formInput.map((item, index) => {\n          var _item$filter;\n          return item.type === \"select\" && ((_item$filter = item.filter) !== null && _item$filter !== void 0 ? _item$filter : true) === true && /*#__PURE__*/_jsxDEV(FormInput, {\n            customClass: \"filter\",\n            placeholder: item.placeHolder,\n            value: filterView[item.name],\n            id: item.name,\n            ...item,\n            onChange: filterChange\n          }, `input` + index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 80\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this), (addPrivilege ? addPrivilege : false) && /*#__PURE__*/_jsxDEV(AddButton, {\n        onClick: () => isCreatingHandler(true, refreshView),\n        children: [/*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this), t(\"addNew\", {\n          label: t(shortName)\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScrollLayout, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(Tr, {\n            children: attributes.map(attribute => {\n              return attribute.view === true ? /*#__PURE__*/_jsxDEV(Th, {\n                children: t(attribute.label)\n              }, attribute.name, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 50\n              }, this) : \"\";\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: ((_users$data2 = users.data) === null || _users$data2 === void 0 ? void 0 : (_users$data2$data = _users$data2.data) === null || _users$data2$data === void 0 ? void 0 : _users$data2$data.length) > 0 && users.data.response.map(item => /*#__PURE__*/_jsxDEV(TableRowWithActions, {\n            attributes: attributes,\n            data: item\n          }, item._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 85\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this), ((_users$data3 = users.data) === null || _users$data3 === void 0 ? void 0 : (_users$data3$response = _users$data3.response) === null || _users$data3$response === void 0 ? void 0 : _users$data3$response.length) === 0 && /*#__PURE__*/_jsxDEV(NoData, {\n      children: [\"No \", t(shortName), \" found!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 46\n    }, this), count > 10 && /*#__PURE__*/_jsxDEV(Count, {\n      children: [/*#__PURE__*/_jsxDEV(ArrowButton, {\n        theme: themeColors,\n        onClick: () => {\n          setCurrentIndex(prev => prev > 9 ? prev - 10 : 0);\n        },\n        children: /*#__PURE__*/_jsxDEV(PreviousIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this), `Showing ${currentIndex + 1} - ${currentIndex + 10 > count ? count : currentIndex + 10} from ${count}`, /*#__PURE__*/_jsxDEV(ArrowButton, {\n        theme: themeColors,\n        onClick: () => {\n          setCurrentIndex(prev => prev + 10 > count ? currentIndex : currentIndex + 10);\n        },\n        children: /*#__PURE__*/_jsxDEV(NextIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 9\n    }, this), isCreating && /*#__PURE__*/_jsxDEV(CrudForm, {\n      api: api,\n      formType: \"post\",\n      header: t(\"addNewTitle\", {\n        label: t(shortName ? shortName : \"Form\")\n      }),\n      formInput: formInput,\n      formValues: addValues,\n      formErrors: errroInput,\n      submitHandler: submitHandler,\n      isOpenHandler: isCreatingHandler,\n      isOpen: isCreating\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 22\n    }, this), isEditing && /*#__PURE__*/_jsxDEV(CrudForm, {\n      api: api,\n      formType: \"put\",\n      updateId: updateId,\n      header: t(\"update\", {\n        label: t(shortName ? shortName : \"Form\")\n      }),\n      formInput: formInput,\n      formErrors: errroInput,\n      formValues: updateValues,\n      submitHandler: updateHandler,\n      isOpenHandler: isEditingHandler,\n      isOpen: isEditing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 21\n    }, this), action.data && /*#__PURE__*/_jsxDEV(Manage, {\n      setMessage: setMessage,\n      setLoaderBox: setLoaderBox,\n      onClose: closeManage,\n      ...action\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 23\n    }, this), showLoader && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 22\n    }, this), showSublist && (subAttributes === null || subAttributes === void 0 ? void 0 : (_subAttributes$item = subAttributes.item) === null || _subAttributes$item === void 0 ? void 0 : (_subAttributes$item$a = _subAttributes$item.attributes) === null || _subAttributes$item$a === void 0 ? void 0 : _subAttributes$item$a.length) > 0 && /*#__PURE__*/_jsxDEV(SubPage, {\n      closeModal: closeModal,\n      setMessage: setMessage,\n      setLoaderBox: setLoaderBox,\n      subAttributes: subAttributes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 70\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 367,\n    columnNumber: 5\n  }, this);\n};\n_s(ListTable, \"z2qFQHZ5187FagzPul/Io5NEsDY=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate, useTranslation];\n});\n_c = ListTable;\nexport default ListTable;\nvar _c;\n$RefreshReg$(_c, \"ListTable\");","map":{"version":3,"names":["useEffect","useRef","useState","Table","Th","Button","Td","Tr","Count","ArrowButton","AddButton","ButtonPanel","Filter","Filters","ToggleContainer","ToggleInput","ToggleSlider","NoData","ScrollLayout","FilterBox","useDispatch","useSelector","RowContainer","AddIcon","FilterIcon","GetIcon","NextIcon","PreviousIcon","useNavigate","deleteData","postData","putData","CrudForm","useTranslation","addPageObject","FormInput","Manage","Loader","Search","SubPage","ListTable","referenceId","actions","api","setMessage","attributes","addPrivilege","delPrivilege","updatePrivilege","shortName","itemTitle","users","state","pages","data","isLoading","error","showSublist","setShowSubList","currentApi","subAttributes","setSubAttributes","currentIndex","setCurrentIndex","count","setCount","themeColors","dispatch","navigate","t","showLoader","setShowLoader","setLoaderBox","status","initialized","setInitialized","prevCrud","setPrevCrud","formInput","setFormInput","errroInput","setErrorInput","addValues","setAddValues","updateId","setUpdateId","updateValues","setUpdateValues","udpateView","setUpdateView","filterView","setFilterView","addValuesTemp","viewValues","errorValues","filterValues","tempFilter","date","Date","forEach","item","type","bool","JSON","parse","default","add","name","toISOString","setFilter","refreshView","isCreating","setIsCreating","isCreatingHandler","value","callback","window","location","pathname","hash","isEditing","setIsEditing","isEditingHandler","_id","update","toString","console","log","deleteHandler","id","then","response","content","title","proceed","catch","message","action","setActions","openAction","submitHandler","updateHandler","alert","filterChange","option","udpateValue","closeManage","TableRowWithActions","map","attribute","view","label","onProceed","element","href","mobileNumber","event","target","checked","closeModal","searchValue","setSearchValue","filter","searchTimeoutRef","handleChange","clearTimeout","current","setTimeout","searchkey","index","placeHolder","length","prev"],"sources":["/Users/azharpallikkandy/Documents/projects/DataHex/dfms/dfms-admin/src/components/elements/list/list.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { Table, Th, Button, Td, Tr, Count, ArrowButton, AddButton, ButtonPanel, Filter, Filters, ToggleContainer, ToggleInput, ToggleSlider, NoData, ScrollLayout, FilterBox } from \"./styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RowContainer } from \"../../styles/containers/styles\";\nimport { AddIcon, FilterIcon, GetIcon, NextIcon, PreviousIcon } from \"../../../icons\";\nimport { useNavigate } from \"react-router-dom\";\nimport { deleteData, postData, putData } from \"../../../backend/api\";\nimport CrudForm from \"./create\";\nimport { useTranslation } from \"react-i18next\";\nimport { addPageObject } from \"../../../store/actions/pages\";\nimport FormInput from \"../input\";\nimport Manage from \"./manage\";\nimport Loader from \"../loader\";\nimport Search from \"../search\";\nimport SubPage from \"./subPage\";\n\nconst ListTable = ({ referenceId = 0, actions = [], api, setMessage, attributes = [], addPrivilege = true, delPrivilege = true, updatePrivilege = true, shortName = \"Item\", itemTitle = \"title\" }) => {\n  const users = useSelector((state) =>\n    state.pages[`${api}${referenceId === 0 ? \"\" : `/${referenceId}`}`]\n      ? state.pages[`${api}${referenceId === 0 ? \"\" : `/${referenceId}`}`]\n      : {\n          data: null,\n          isLoading: true,\n          error: null,\n        }\n  );\n  const [showSublist, setShowSubList] = useState(false);\n  const [currentApi] = useState(`${api}${referenceId === 0 ? \"\" : `/${referenceId}`}`);\n  const [subAttributes, setSubAttributes] = useState(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [count, setCount] = useState(0);\n  const themeColors = useSelector((state) => state.themeColors);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [t] = useTranslation();\n  const [showLoader, setShowLoader] = useState(false);\n  /**\n   * Function to set the showLoader state.\n   * @param {boolean} status The status of the loader.\n   */\n  const setLoaderBox = (status) => {\n    setShowLoader(status);\n  };\n  // processing attributes\n  const [initialized, setInitialized] = useState(false);\n  const [prevCrud, setPrevCrud] = useState(\"\");\n  const [formInput, setFormInput] = useState([]);\n  const [errroInput, setErrorInput] = useState([]);\n  const [addValues, setAddValues] = useState({});\n  const [updateId, setUpdateId] = useState(\"\");\n  const [updateValues, setUpdateValues] = useState({});\n  const [udpateView, setUpdateView] = useState(() => {});\n  const [filterView, setFilterView] = useState({});\n  useEffect(() => {\n    const addValuesTemp = {\n      addValues: {},\n      updateValues: {},\n      viewValues: {},\n      errorValues: {},\n      filterValues: {},\n    };\n    let tempFilter = false;\n    let date = new Date();\n    attributes.forEach((item) => {\n      if (item.type === \"checkbox\") {\n        let bool = JSON.parse(item.default === \"false\" || item.default === \"true\" ? item.default : \"false\");\n        if (item.add) {\n          addValuesTemp.addValues[item.name] = bool;\n        }\n        addValuesTemp.updateValues[item.name] = bool;\n      } else if (item.type === \"datetime\" || item.type === \"date\" || item.type === \"time\") {\n        addValuesTemp.addValues[item.name] = date.toISOString();\n        if (item.add) {\n          addValuesTemp.updateValues[item.name] = date.toISOString();\n        }\n      } else if (item.type === \"image\" || item.type === \"file\") {\n        if (item.add) {\n          addValuesTemp.addValues[item.name] = \"\";\n          addValuesTemp.addValues[\"selected_\" + item.name] = [];\n        }\n        addValuesTemp.updateValues[item.name] = \"\";\n        addValuesTemp.updateValues[\"selected_\" + item.name] = [];\n      } else {\n        if (item.add) {\n          addValuesTemp.addValues[item.name] = item.default;\n        }\n        addValuesTemp.updateValues[item.name] = item.default;\n        if (item.type === \"select\") {\n          addValuesTemp.filterValues[item.name] = \"\";\n          tempFilter = true;\n        }\n      }\n      addValuesTemp.errorValues[item.name] = \"\";\n      addValuesTemp.filterValues[\"searchkey\"] = \"\";\n    });\n    setFormInput(attributes);\n    setAddValues(addValuesTemp.addValues);\n    setErrorInput(addValuesTemp.errorValues);\n    setUpdateValues(addValuesTemp.updateValues);\n    setFilterView(addValuesTemp.filterValues);\n    setFilter(tempFilter);\n    setInitialized(true);\n  }, [attributes, dispatch, setPrevCrud, prevCrud, setFormInput, setAddValues, setUpdateValues, setFilterView]);\n\n  // end processing attributes\n  useEffect(() => {\n    setLoaderBox(users.isLoading);\n    if (currentIndex === 0 && users.data?.count) {\n      setCount(users.data.count);\n    }\n  }, [users, currentIndex]);\n\n  useEffect(() => {\n    if (initialized) {\n      dispatch(addPageObject(currentApi, currentIndex, filterView));\n    }\n  }, [initialized, currentApi, currentIndex, dispatch, filterView]);\n  const refreshView = (currentIndex) => {\n    try {\n      dispatch(addPageObject(currentApi, currentIndex, filterView));\n    } catch {}\n  };\n\n  //crud functions\n  const [isCreating, setIsCreating] = useState(false);\n  const isCreatingHandler = (value, callback) => {\n    if (isCreating) {\n      setUpdateView(() => callback);\n      setIsCreating(false);\n      navigate({}, \"\", window.location.pathname);\n    } else {\n      window.location.hash = \"add\";\n      setIsCreating(true);\n    }\n  };\n  const [isEditing, setIsEditing] = useState(false);\n  const isEditingHandler = (value, callback) => {\n    setLoaderBox(true);\n    if (!isEditing) {\n      setUpdateView(() => callback);\n      const updateValues = {};\n      setUpdateId(value._id);\n      formInput.forEach((item) => {\n        if (item.update) {\n          if (item.type === \"checkbox\") {\n            let bool = value[item.name].toString() === \"true\" ? true : false;\n            updateValues[item.name] = bool;\n          } else if (item.type === \"select\") {\n            console.log(typeof value[item.name]);\n            updateValues[item.name] = typeof value[item.name] === \"undefined\" ? \"\" : typeof value[item.name] === \"string\" || typeof value[item.name] === \"number\" ? value[item.name] : value[item.name]?._id ? value[item.name]._id : \"\";\n          } else if (item.type === \"image\") {\n            updateValues[\"selected_\" + item.name] = [];\n            updateValues[item.name] = value[item.name] ? value[item.name] : \"\";\n          } else {\n            updateValues[item.name] = value[item.name] ? value[item.name] : \"\";\n          }\n        }\n      });\n      setUpdateValues(updateValues);\n      setIsEditing(true);\n      window.location.hash = \"edit\";\n    } else {\n      setUpdateId(\"\");\n      navigate({}, \"\", window.location.pathname);\n      setIsEditing(false);\n    }\n    setLoaderBox(false);\n  };\n  const deleteHandler = async (item, id = \"\") => {\n    await deleteData({}, currentApi, id)\n      .then((response) => {\n        if (response.status === 200) {\n          setMessage({ type: 1, content: `The '${item.title ? item.title : shortName}' deleted successfully!`, proceed: t(\"okay\") });\n          setCount((count) => count - 1);\n          setIsCreating(false);\n          refreshView();\n          // udpateView(0);\n        } else if (response.status === 404) {\n          setMessage({ type: 1, content: \"User not found!\", proceed: \"Okay\" });\n        } else {\n          setMessage({ type: 1, content: \"Something went wrong!\", proceed: \"Okay\" });\n        }\n        setLoaderBox(false);\n      })\n      .catch((error) => {\n        setMessage({ type: 1, content: error.message + \"Something went wrong!\", proceed: \"Okay\" });\n        setLoaderBox(false);\n      });\n  };\n  const [action, setActions] = useState([]);\n  const openAction = (item, data) => {\n    // Actions Window\n    setActions({ item, data });\n    // setMessage({ type: 1, content: item.title + \" / \" + data._id, proceed: \"Okay\" });\n  };\n  const submitHandler = async (data) => {\n    setLoaderBox(true);\n    await postData(data, currentApi)\n      .then((response) => {\n        if (response.status === 200) {\n          setMessage({ type: 1, content: `The '${shortName}' saved successfully!`, proceed: \"Okay\" });\n          setIsCreating(false);\n          refreshView();\n          // udpateView(0);\n        } else if (response.status === 404) {\n          setMessage({ type: 1, content: \"User not found!\", proceed: \"Okay\" });\n        } else {\n          setMessage({ type: 1, content: \"Something went wrong!\", proceed: \"Okay\" });\n        }\n        setLoaderBox(false);\n      })\n      .catch((error) => {\n        setMessage({ type: 1, content: error.message + \"Something went wrong!\", proceed: \"Okay\" });\n        setLoaderBox(false);\n      });\n  };\n\n  const updateHandler = async (data) => {\n    setLoaderBox(true);\n\n    await putData(data, `${currentApi}/${updateId}`)\n      .then((response) => {\n        if (response.status === 200) {\n          setMessage({ type: 1, content: `The '${shortName}' updated successfully!`, proceed: \"Okay\" });\n          refreshView();\n          setIsEditing(false);\n        } else if (response.status === 404) {\n          setMessage({ type: 1, content: \"User not found!\", proceed: \"Okay\" });\n        } else {\n          setMessage({ type: 1, content: \"Something went wrong!\", proceed: \"Okay\" });\n        }\n        setLoaderBox(false);\n      })\n      .catch((error) => {\n        alert(error);\n        setLoaderBox(false);\n      });\n  };\n\n  const filterChange = (option, name) => {\n    const udpateValue = {\n      ...filterView,\n      [name]: option.id,\n    };\n    // updating the formm values\n    setFilterView(udpateValue);\n  };\n  const closeManage = () => {\n    setActions([]);\n  };\n  const TableRowWithActions = ({ attributes, data }) => {\n    return (\n      <Tr key={`${shortName}-${data._id}`}>\n        {attributes.map((attribute) => attribute.view && <Td key={`${attribute.name}-${data._id}`}>{data[attribute.name]?.title ? data[attribute.name]?.title : data[attribute.name]?.toString()}</Td>)}\n        <Td className=\"actions\">\n          {delPrivilege && (\n            <Button\n              key={`delete-${data._id}`}\n              onClick={() => {\n                setMessage({\n                  type: 2,\n                  content: t(\"deleteRequest\", { label: data[itemTitle] ? data[itemTitle].toString() : \"Item\" }),\n                  proceed: t(\"delete\"),\n                  onProceed: deleteHandler,\n                  data: data,\n                });\n              }}\n              className=\"delete\"\n            >\n              <span>{t(\"delete\")}</span>\n              <GetIcon icon={\"delete\"} />\n            </Button>\n          )}\n          {updatePrivilege && (\n            <Button\n              key={`edit-${data._id}`}\n              onClick={() => {\n                isEditingHandler(data, udpateView);\n              }}\n              className=\"edit\"\n            >\n              <span>{t(\"edit\")}</span>\n              <GetIcon icon={\"edit\"} />\n            </Button>\n          )}\n          {actions.map((item) => {\n            return item.element === \"button\" ? (\n              <Button\n                key={`custom-${item.id}-${data._id}`}\n                onClick={() => {\n                  if (item.type === \"callback\") {\n                    item.callback(item, data);\n                  } else if (item.type === \"call\") {\n                    window.location.href = `tel:${data.mobileNumber}`;\n                  } else if (item.type === \"subList\") {\n                    setSubAttributes({ item, data });\n                    setShowSubList(true);\n                  } else {\n                    openAction(item, data);\n                  }\n                }}\n                className=\"edit\"\n              >\n                <span>{t(item.title)}</span>\n                <GetIcon icon={item.title} />\n              </Button>\n            ) : (\n              <ToggleContainer key={`${item.id}-${data._id}`}>\n                <ToggleInput\n                  type=\"checkbox\"\n                  checked={data[item.id]}\n                  onChange={async (event) => {\n                    // item.callback(item, data);\n                    setLoaderBox(true);\n                    await postData({ status: event.target.checked }, `${item.api}/${data._id}`)\n                      .then((response) => {\n                        if (response.status === 200) {\n                          if (response.data?.message) {\n                            setMessage({ type: 1, content: t(response.data?.message), proceed: t(\"okay\") });\n                          }\n                          //\n                          refreshView();\n                          // setIsEditing(false);\n                        } else if (response.status === 404) {\n                          refreshView();\n                          setMessage({ type: 1, content: t(\"error\"), proceed: \"Okay\" });\n                        } else {\n                          refreshView();\n                          setMessage({ type: 1, content: t(\"error\"), proceed: \"Okay\" });\n                        }\n                        // setLoaderBox(false);\n                      })\n                      .catch((error) => {\n                        alert(error);\n                        // setLoaderBox(false);\n                      });\n                  }}\n                />\n                <ToggleSlider />\n              </ToggleContainer>\n            );\n          })}\n        </Td>\n      </Tr>\n    );\n  };\n  const closeModal = () => {\n    setShowSubList(false);\n  };\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [filter, setFilter] = useState(false);\n  const searchTimeoutRef = useRef();\n  const handleChange = (event) => {\n    clearTimeout(searchTimeoutRef.current);\n    setSearchValue(event.target.value);\n    searchTimeoutRef.current = setTimeout(() => {\n      setFilterView({ ...filterView, searchkey: event.target.value });\n    }, 300);\n  };\n  useEffect(() => {\n    return () => {\n      clearTimeout(searchTimeoutRef.current);\n    };\n  }, []);\n  //end crud functions\n  return (\n    <RowContainer>\n      <ButtonPanel>\n        <FilterBox>\n          <Search theme={themeColors} placeholder=\"Search\" value={searchValue} onChange={handleChange}></Search>\n          {filter && (\n            <Filter\n              theme={themeColors}\n              onClick={() => {\n                refreshView(currentIndex);\n              }}\n            >\n              <FilterIcon />\n            </Filter>\n          )}\n        </FilterBox>\n        <Filters>\n          {formInput.map((item, index) => {\n            return item.type === \"select\" && (item.filter ?? true) === true && <FormInput customClass={\"filter\"} placeholder={item.placeHolder} value={filterView[item.name]} key={`input` + index} id={item.name} {...item} onChange={filterChange} />;\n          })}\n        </Filters>\n        {(addPrivilege ? addPrivilege : false) && (\n          <AddButton onClick={() => isCreatingHandler(true, refreshView)}>\n            <AddIcon></AddIcon>\n            {t(\"addNew\", { label: t(shortName) })}\n          </AddButton>\n        )}\n      </ButtonPanel>\n      <ScrollLayout>\n        <Table>\n          <thead>\n            <Tr>\n              {attributes.map((attribute) => {\n                return attribute.view === true ? <Th key={attribute.name}>{t(attribute.label)}</Th> : \"\";\n              })}\n            </Tr>\n          </thead>\n\n          <tbody>{users.data?.data?.length > 0 && users.data.response.map((item) => <TableRowWithActions key={item._id} attributes={attributes} data={item} />)}</tbody>\n        </Table>\n      </ScrollLayout>\n      {users.data?.response?.length === 0 && <NoData>No {t(shortName)} found!</NoData>}\n      {count > 10 && (\n        <Count>\n          <ArrowButton\n            theme={themeColors}\n            onClick={() => {\n              setCurrentIndex((prev) => (prev > 9 ? prev - 10 : 0));\n            }}\n          >\n            <PreviousIcon />\n          </ArrowButton>\n          {`Showing ${currentIndex + 1} - ${currentIndex + 10 > count ? count : currentIndex + 10} from ${count}`}\n          <ArrowButton\n            theme={themeColors}\n            onClick={() => {\n              setCurrentIndex((prev) => (prev + 10 > count ? currentIndex : currentIndex + 10));\n            }}\n          >\n            <NextIcon />\n          </ArrowButton>\n        </Count>\n      )}\n      {isCreating && <CrudForm api={api} formType={\"post\"} header={t(\"addNewTitle\", { label: t(shortName ? shortName : \"Form\") })} formInput={formInput} formValues={addValues} formErrors={errroInput} submitHandler={submitHandler} isOpenHandler={isCreatingHandler} isOpen={isCreating}></CrudForm>}\n      {isEditing && <CrudForm api={api} formType={\"put\"} updateId={updateId} header={t(\"update\", { label: t(shortName ? shortName : \"Form\") })} formInput={formInput} formErrors={errroInput} formValues={updateValues} submitHandler={updateHandler} isOpenHandler={isEditingHandler} isOpen={isEditing}></CrudForm>}\n      {action.data && <Manage setMessage={setMessage} setLoaderBox={setLoaderBox} onClose={closeManage} {...action}></Manage>}\n      {showLoader && <Loader></Loader>}\n      {showSublist && subAttributes?.item?.attributes?.length > 0 && <SubPage closeModal={closeModal} setMessage={setMessage} setLoaderBox={setLoaderBox} subAttributes={subAttributes}></SubPage>}\n    </RowContainer>\n  );\n};\nexport default ListTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}