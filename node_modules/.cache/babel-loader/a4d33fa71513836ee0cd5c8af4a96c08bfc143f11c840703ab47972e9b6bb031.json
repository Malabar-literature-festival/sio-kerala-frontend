{"ast":null,"code":"import { clearLogin } from \"../../store/actions/login\";\nimport { GetAccessToken } from \"../authentication\";\nimport axios from \"axios\";\nconst postData = async (fields, ulr, dispatch, navigate) => {\n  const data = new Promise(async (resolve, reject) => {\n    try {\n      let token = GetAccessToken();\n      const formData = new FormData();\n      let isUplaoding = false;\n      Object.entries(fields).forEach(_ref => {\n        let [key, value] = _ref;\n        if (typeof value === \"object\") {\n          isUplaoding = true;\n          formData.append(key, value[0]);\n        } else {\n          formData.append(key, value);\n        }\n      });\n      const response = await axios.post(`${process.env.REACT_APP_API}${ulr}`, formData, {\n        headers: {\n          \"Content-Type\": isUplaoding ? \"multipart/form-data\" : \"application/json\",\n          \"x-access-token\": token\n        }\n      });\n      if (response.status === 401) {\n        try {\n          dispatch(clearLogin());\n          navigate(\"/\");\n          navigate(0);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      resolve({\n        status: response.status,\n        data: response.data\n      });\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.log(\"error\", error);\n      resolve({\n        status: error.response.status,\n        data: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message\n      });\n    }\n  });\n  return data;\n};\nconst putData = async (fields, ulr, dispatch, navigate) => {\n  const data = new Promise(async (resolve, reject) => {\n    try {\n      let token = GetAccessToken();\n      const formData = new FormData();\n      let isUplaoding = false;\n      Object.entries(fields).forEach(_ref2 => {\n        let [key, value] = _ref2;\n        if (typeof value === \"object\") {\n          isUplaoding = true;\n          formData.append(key, value[0]);\n        } else {\n          formData.append(key, value);\n        }\n      });\n      const response = await axios.put(`${process.env.REACT_APP_API}${ulr}`, formData, {\n        headers: {\n          \"Content-Type\": isUplaoding ? \"multipart/form-data\" : \"application/json\",\n          \"x-access-token\": token\n        }\n      });\n      if (response.status === 401) {\n        try {\n          dispatch(clearLogin());\n          navigate(\"/\");\n          navigate(0);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      resolve({\n        status: response.status,\n        data: response.data\n      });\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      resolve({\n        status: error.response.status,\n        data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message\n      });\n    }\n  });\n  return data;\n};\nconst getData = async (fields, ulr, dispatch, navigate) => {\n  const data = new Promise(async (resolve, reject) => {\n    try {\n      let queryString = Object.keys(fields).map(key => key + \"=\" + fields[key]).join(\"&\");\n      let token = GetAccessToken();\n      const response = await axios.get(`${process.env.REACT_APP_API}${ulr}?${queryString}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-access-token\": token\n        }\n      });\n      if (response.status === 401) {\n        try {\n          localStorage.removeItem(\"user\");\n          navigate(\"/\");\n          navigate(0);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      resolve({\n        status: response.status,\n        data: response.data\n      });\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      if (error.response.status) {\n        if (error.response.status === 401) {\n          try {\n            localStorage.removeItem(\"user\");\n            navigate(\"/\");\n            navigate(0);\n          } catch (error) {\n            console.log(error);\n          }\n        }\n      }\n      resolve({\n        status: error.response.status,\n        data: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message\n      });\n    }\n  });\n  return data;\n};\nconst deleteData = async (fields, ulr, id, dispatch, navigate) => {\n  const data = new Promise(async (resolve, reject) => {\n    try {\n      let token = GetAccessToken();\n      const formData = new FormData();\n      Object.entries(fields).forEach(_ref3 => {\n        let [key, value] = _ref3;\n        if (typeof value === \"object\") {\n          formData.append(key, value[0]);\n        } else {\n          formData.append(key, value);\n        }\n      });\n      const response = await axios.delete(`${process.env.REACT_APP_API}${ulr}/${id}`, {\n        headers: {\n          \"x-access-token\": token\n        }\n      });\n      if (response.status === 401) {\n        try {\n          localStorage.removeItem(\"user\");\n          navigate(\"/\");\n          navigate(0);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      resolve({\n        status: response.status,\n        data: response.data\n      });\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.log(\"API Eror\", error.message);\n      resolve({\n        status: error.response.status,\n        data: (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message\n      });\n    }\n  });\n  return data;\n};\nexport { getData, postData, putData, deleteData };","map":{"version":3,"names":["clearLogin","GetAccessToken","axios","postData","fields","ulr","dispatch","navigate","data","Promise","resolve","reject","token","formData","FormData","isUplaoding","Object","entries","forEach","key","value","append","response","post","process","env","REACT_APP_API","headers","status","error","console","log","message","putData","put","getData","queryString","keys","map","join","get","localStorage","removeItem","deleteData","id","delete"],"sources":["/Users/azharpallikkandy/Documents/projects/DataHex/dfms/dfms-admin/src/backend/api/index.js"],"sourcesContent":["import { clearLogin } from \"../../store/actions/login\";\nimport { GetAccessToken } from \"../authentication\";\nimport axios from \"axios\";\nconst postData = async (fields, ulr, dispatch, navigate) => {\n  const data = new Promise(async (resolve, reject) => {\n    try {\n      let token = GetAccessToken();\n      const formData = new FormData();\n      let isUplaoding = false;\n      Object.entries(fields).forEach(([key, value]) => {\n        if (typeof value === \"object\") {\n          isUplaoding = true;\n          formData.append(key, value[0]);\n        } else {\n          formData.append(key, value);\n        }\n      });\n      const response = await axios.post(`${process.env.REACT_APP_API}${ulr}`, formData, {\n        headers: {\n          \"Content-Type\": isUplaoding ? \"multipart/form-data\" : \"application/json\",\n          \"x-access-token\": token,\n        },\n      });\n      if (response.status === 401) {\n        try {\n          dispatch(clearLogin());\n          navigate(\"/\");\n          navigate(0);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      resolve({ status: response.status, data: response.data });\n    } catch (error) {\n      console.log(\"error\", error);\n      resolve({\n        status: error.response.status,\n        data: error.response?.data?.message,\n      });\n    }\n  });\n\n  return data;\n};\nconst putData = async (fields, ulr, dispatch, navigate) => {\n  const data = new Promise(async (resolve, reject) => {\n    try {\n      let token = GetAccessToken();\n      const formData = new FormData();\n      let isUplaoding = false;\n      Object.entries(fields).forEach(([key, value]) => {\n        if (typeof value === \"object\") {\n          isUplaoding = true;\n          formData.append(key, value[0]);\n        } else {\n          formData.append(key, value);\n        }\n      });\n      const response = await axios.put(`${process.env.REACT_APP_API}${ulr}`, formData, {\n        headers: {\n          \"Content-Type\": isUplaoding ? \"multipart/form-data\" : \"application/json\",\n          \"x-access-token\": token,\n        },\n      });\n      if (response.status === 401) {\n        try {\n          dispatch(clearLogin());\n          navigate(\"/\");\n          navigate(0);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      resolve({ status: response.status, data: response.data });\n    } catch (error) {\n      resolve({\n        status: error.response.status,\n        data: error.response?.data?.message,\n      });\n    }\n  });\n\n  return data;\n};\nconst getData = async (fields, ulr, dispatch, navigate) => {\n  const data = new Promise(async (resolve, reject) => {\n    try {\n      let queryString = Object.keys(fields)\n        .map((key) => key + \"=\" + fields[key])\n        .join(\"&\");\n      let token = GetAccessToken();\n      const response = await axios.get(`${process.env.REACT_APP_API}${ulr}?${queryString}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-access-token\": token,\n        },\n      });\n      if (response.status === 401) {\n        try {\n          localStorage.removeItem(\"user\");\n          navigate(\"/\");\n          navigate(0);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      resolve({ status: response.status, data: response.data });\n    } catch (error) {\n      if (error.response.status) {\n        if (error.response.status === 401) {\n          try {\n            localStorage.removeItem(\"user\");\n            navigate(\"/\");\n            navigate(0);\n          } catch (error) {\n            console.log(error);\n          }\n        }\n      }\n      resolve({\n        status: error.response.status,\n        data: error.response?.data?.message,\n      });\n    }\n  });\n  return data;\n};\nconst deleteData = async (fields, ulr, id, dispatch, navigate) => {\n  const data = new Promise(async (resolve, reject) => {\n    try {\n      let token = GetAccessToken();\n      const formData = new FormData();\n      Object.entries(fields).forEach(([key, value]) => {\n        if (typeof value === \"object\") {\n          formData.append(key, value[0]);\n        } else {\n          formData.append(key, value);\n        }\n      });\n      const response = await axios.delete(`${process.env.REACT_APP_API}${ulr}/${id}`, {\n        headers: { \"x-access-token\": token },\n      });\n      if (response.status === 401) {\n        try {\n          localStorage.removeItem(\"user\");\n          navigate(\"/\");\n          navigate(0);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      resolve({ status: response.status, data: response.data });\n    } catch (error) {\n      console.log(\"API Eror\", error.message);\n      resolve({\n        status: error.response.status,\n        data: error.response?.data?.message,\n      });\n    }\n  });\n\n  return data;\n};\nexport { getData, postData, putData, deleteData };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}