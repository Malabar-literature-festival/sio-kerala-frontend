{"ast":null,"code":"var _jsxFileName = \"/Users/azharpallikkandy/Documents/projects/DataHex/dfms/dfms-admin/src/components/elements/list/create/index.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport FormInput from \"../../input\";\nimport { Footer, Form, Header, Page, Overlay } from \"./styles\";\nimport { useTranslation } from \"react-i18next\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CrudForm = props => {\n  _s();\n  // Use the useTranslation hook from react-i18next to handle translations\n  const {\n    t\n  } = useTranslation();\n\n  // State to store the form input fields\n  const [formState] = useState(props.formInput);\n\n  // State to store the submit button's disabled status\n  const [submitDisabled, setSubmitDisabled] = useState(true);\n\n  // State to store the form values\n  const [formValues, setFormValues] = useState(props.formValues);\n\n  // State to store the validation messages\n  const [formErrors, setFormErrors] = useState(props.formErrors);\n\n  /**\n   * fieldValidation is a callback function to validate a form field based on its properties\n   *\n   * @param {object} field - The field to be validated\n   * @param {string} value - The value of the field\n   *\n   * @returns {number} flags - The number of validation errors for the field\n   */\n\n  const validation = (fields, udpatedValue, formErrors, agreement, useCheckbox) => {\n    const tempformErrors = {\n      ...formErrors\n    };\n    let flags = 0;\n    fields.forEach(item => {\n      if (item.name !== \"_id\") {\n        if (item.type === \"multiple\") {\n          item.forms.forEach((form, multipleIndex) => {\n            form.forEach((inputs, index) => {\n              const res = fieldValidation(inputs, typeof udpatedValue[item.name][multipleIndex][inputs.name] === \"undefined\" ? \"\" : udpatedValue[item.name][multipleIndex][inputs.name]);\n              tempformErrors[item.name][multipleIndex][inputs.name] = res.tempformError;\n              flags += res.flag; //?res.flag:0;\n            });\n          });\n        } else if (item.validation === \"greater\") {\n          const res = fieldValidation(item, typeof udpatedValue[item.name] === \"undefined\" ? \"\" : udpatedValue[item.name], typeof udpatedValue[item.reference] === \"undefined\" ? new Date() : udpatedValue[item.reference]);\n          tempformErrors[item.name] = res.tempformError;\n          flags += res.flag; //?res.flag:0;\n        } else {\n          const res = fieldValidation(item, typeof udpatedValue[item.name] === \"undefined\" ? \"\" : udpatedValue[item.name]);\n          tempformErrors[item.name] = res.tempformError;\n          flags += res.flag; //?res.flag:0;\n        }\n      }\n    });\n\n    const agreementRes = agreementValidation(agreement, useCheckbox);\n    tempformErrors[\"captchaError\"] = agreementRes.tempformError;\n    flags += agreementRes.flag; //?res.flag:0;\n\n    setFormErrors(tempformErrors);\n    setSubmitDisabled(flags > 0 ? true : false);\n    if (flags === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const fieldValidation = function (field, value) {\n    let ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Date();\n    let flag = 0;\n    let tempformError = \"\";\n    if (!field.update && props.formType === \"put\") {\n      return {\n        flag,\n        tempformError\n      };\n    }\n    if (!field.add && props.formType === \"post\") {\n      return {\n        flag,\n        tempformError\n      };\n    }\n    if (!field.required && value.length === 0) {\n      return {\n        flag,\n        tempformError\n      };\n    }\n    switch (field.validation) {\n      case \"email\":\n        const regex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g;\n        if (!regex.test(value)) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        }\n        break;\n      case \"cvv\":\n        if (!/^[0-9]{3}$/.test(value)) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        } // German credit cards typically have a 3-digit CVV\n        break;\n      case \"ccn\":\n        if (!/^[0-9]{16}$/.test(value)) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        }\n        let sum = 0;\n        for (let i = 0; i < value.length; i++) {\n          let digit = parseInt(value[i]);\n          if (i % 2 === 0) {\n            digit *= 2;\n            if (digit > 9) {\n              digit -= 9;\n            }\n          }\n          sum += digit;\n        }\n        if (sum % 10 !== 0) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        }\n        break;\n      case \"expiry\":\n        if (!validateExpiry(value)) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        }\n        break;\n      case \"fileNumber\":\n        const fileNumber = /[A-Z0-9-]/;\n        if (!fileNumber.test(value)) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        }\n        break;\n      case \"licensePlate\":\n        const german = /^[A-Z]{3}[ -]?[A-Z0-9]{2}[ -]?[A-Z0-9]{3,5}$/i;\n        if (!german.test(value)) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        }\n        break;\n      case \"greater\":\n        const referedDate = new Date(ref);\n        if (new Date(value) < referedDate) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        }\n        break;\n      case \"amount\":\n        const amount = /^\\d+([.,]\\d{1,2})?$/;\n        if (!amount.test(value)) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        }\n        break;\n      case \"datetime\":\n      case \"time\":\n        const date = /^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;\n        if (!date.test(value)) {\n          tempformError = t(\"validContent\", {\n            label: t(field.label)\n          });\n          flag += 1;\n        }\n        break;\n      case \"text\":\n        break;\n      default:\n        break;\n    }\n    if (field.type === \"image\" || field.type === \"file\") {\n      if (value.length === 0) {\n        tempformError = t(\"validContent\", {\n          label: t(field.label)\n        });\n        flag += 1;\n      }\n    } else {\n      if (field.required && value.length === 0) {\n        tempformError = t(\"required\", {\n          label: t(field.label)\n        });\n        flag += 1;\n      } else if (field.minimum > value.length) {\n        tempformError = t(\"requiredMinimum\", {\n          minimum: field.minimum,\n          label: t(field.label)\n        });\n        flag += 1;\n      } else if (field.maximum < value.length) {\n        tempformError = t(\"maxLimit\", {\n          maximum: field.maximum,\n          label: t(field.label)\n        });\n        flag += 1;\n      }\n    }\n    return {\n      flag,\n      tempformError\n    };\n  };\n  function validateExpiry(expiry) {\n    let month = parseInt(expiry.substring(0, 2));\n    let year = parseInt(\"20\" + expiry.substring(3));\n    let now = new Date();\n    let currentYear = now.getFullYear();\n    let currentMonth = now.getMonth() + 1; // JavaScript months are 0-11\n    if (year < currentYear || year === currentYear && month < currentMonth) {\n      return false; // Expiry date is in the past\n    }\n\n    if (month < 1 || month > 12) {\n      return false; // Invalid month\n    }\n\n    return true;\n  }\n  useEffect(() => {}, [formState]);\n  const agreementValidation = (agreement, useCheckbox) => {\n    let flag = 0;\n    let tempformError = \"\";\n    if (agreement !== true && useCheckbox === true) {\n      tempformError = t(\"required\", {\n        label: t(\"agreement\")\n      });\n      flag += 1;\n    }\n    return {\n      flag,\n      tempformError\n    };\n  };\n  const handleChange = function (event, id) {\n    let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"text\";\n    let sub = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    // Getting current field\n    const field = formState[id];\n    if (sub === null) {\n      let value = \"\";\n      if (type === \"checkbox\") {\n        value = event.target.checked;\n      } else if (type === \"select\") {\n        value = event.id;\n      } else if (field.validation === \"licensePlate\") {\n        value = event.target.value.toString().toUpperCase().replace(/[^a-zA-Z0-9ÄÖÜß]/g, \"\");\n      } else if (type === \"text\" || type === \"number\" || type === \"password\") {\n        value = event.target.value;\n      } else if (type === \"search\") {\n        value = JSON.stringify(event);\n      } else if (type === \"image\" || type === \"file\") {\n        value = event.target.files;\n      } else if (type === \"datetime\" || type === \"time\") {\n        value = event.toISOString();\n      } else if (type === \"date\") {\n        value = event.toISOString();\n      } else {\n        value = event.target.getAttribute(\"value\");\n      }\n      const udpateValue = {\n        ...formValues,\n        [field.name]: value\n      };\n      // Creating an updated field\n      // updating the formm values\n      setFormValues(udpateValue);\n      // Validating the fields\n      if (validation(formState, udpateValue, formErrors)) {\n        // Here we can write any state updation\n      }\n    } else {\n      const main = formState[sub.index];\n      const field = main.forms[sub.multipleIndex][id];\n      const udpateValue = {\n        ...formValues\n      };\n      udpateValue[main.name][sub.multipleIndex][field.name] = event.target.value;\n      setFormValues(udpateValue);\n      // Validating the fields\n      if (validation(formState, udpateValue, formErrors)) {\n        // Here we can write any state updation\n      }\n    }\n  };\n  const submitChange = event => {\n    event.preventDefault();\n    if (validation(formState, formValues, formErrors)) {\n      props.submitHandler(formValues, formState);\n    }\n  };\n  const closeModal = () => {\n    props.isOpenHandler(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Overlay, {\n    children: /*#__PURE__*/_jsxDEV(Page, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: props.header ? props.header : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: (formState === null || formState === void 0 ? void 0 : formState.length) > 0 && formState.map((item, index) => props.formType === \"put\" && item.update || props.formType === \"post\" && item.add ? /*#__PURE__*/_jsxDEV(FormInput, {\n          placeholder: item.placeHolder,\n          id: index,\n          error: formErrors[formState[index].name],\n          value: formValues[formState[index].name],\n          ...item,\n          onChange: handleChange\n        }, `input` + index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 160\n        }, this) : \"\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        children: [/*#__PURE__*/_jsxDEV(FormInput, {\n          type: \"close\",\n          value: \"Cancel\",\n          onChange: closeModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n          disabled: submitDisabled,\n          type: \"submit\",\n          name: \"submit\",\n          value: props.button ? props.button : \"Submit\",\n          onChange: submitChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n};\n_s(CrudForm, \"xYN24SSLweX7V0o9yOgLDRjL3dU=\", false, function () {\n  return [useTranslation];\n});\n_c = CrudForm;\nexport default CrudForm;\nvar _c;\n$RefreshReg$(_c, \"CrudForm\");","map":{"version":3,"names":["React","useState","useEffect","FormInput","Footer","Form","Header","Page","Overlay","useTranslation","CrudForm","props","t","formState","formInput","submitDisabled","setSubmitDisabled","formValues","setFormValues","formErrors","setFormErrors","validation","fields","udpatedValue","agreement","useCheckbox","tempformErrors","flags","forEach","item","name","type","forms","form","multipleIndex","inputs","index","res","fieldValidation","tempformError","flag","reference","Date","agreementRes","agreementValidation","field","value","ref","update","formType","add","required","length","regex","test","label","sum","i","digit","parseInt","validateExpiry","fileNumber","german","referedDate","amount","date","minimum","maximum","expiry","month","substring","year","now","currentYear","getFullYear","currentMonth","getMonth","handleChange","event","id","sub","target","checked","toString","toUpperCase","replace","JSON","stringify","files","toISOString","getAttribute","udpateValue","main","submitChange","preventDefault","submitHandler","closeModal","isOpenHandler","header","map","placeHolder","button"],"sources":["/Users/azharpallikkandy/Documents/projects/DataHex/dfms/dfms-admin/src/components/elements/list/create/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport FormInput from \"../../input\";\nimport { Footer, Form, Header, Page, Overlay } from \"./styles\";\nimport { useTranslation } from \"react-i18next\";\nconst CrudForm = (props) => {\n  // Use the useTranslation hook from react-i18next to handle translations\n  const { t } = useTranslation();\n\n  // State to store the form input fields\n  const [formState] = useState(props.formInput);\n\n  // State to store the submit button's disabled status\n  const [submitDisabled, setSubmitDisabled] = useState(true);\n\n  // State to store the form values\n  const [formValues, setFormValues] = useState(props.formValues);\n\n  // State to store the validation messages\n  const [formErrors, setFormErrors] = useState(props.formErrors);\n\n  /**\n   * fieldValidation is a callback function to validate a form field based on its properties\n   *\n   * @param {object} field - The field to be validated\n   * @param {string} value - The value of the field\n   *\n   * @returns {number} flags - The number of validation errors for the field\n   */\n\n  const validation = (fields, udpatedValue, formErrors, agreement, useCheckbox) => {\n    const tempformErrors = { ...formErrors };\n    let flags = 0;\n    fields.forEach((item) => {\n      if (item.name !== \"_id\") {\n        if (item.type === \"multiple\") {\n          item.forms.forEach((form, multipleIndex) => {\n            form.forEach((inputs, index) => {\n              const res = fieldValidation(inputs, typeof udpatedValue[item.name][multipleIndex][inputs.name] === \"undefined\" ? \"\" : udpatedValue[item.name][multipleIndex][inputs.name]);\n              tempformErrors[item.name][multipleIndex][inputs.name] = res.tempformError;\n              flags += res.flag; //?res.flag:0;\n            });\n          });\n        } else if (item.validation === \"greater\") {\n          const res = fieldValidation(item, typeof udpatedValue[item.name] === \"undefined\" ? \"\" : udpatedValue[item.name], typeof udpatedValue[item.reference] === \"undefined\" ? new Date() : udpatedValue[item.reference]);\n          tempformErrors[item.name] = res.tempformError;\n          flags += res.flag; //?res.flag:0;\n        } else {\n          const res = fieldValidation(item, typeof udpatedValue[item.name] === \"undefined\" ? \"\" : udpatedValue[item.name]);\n          tempformErrors[item.name] = res.tempformError;\n          flags += res.flag; //?res.flag:0;\n        }\n      }\n    });\n\n    const agreementRes = agreementValidation(agreement, useCheckbox);\n    tempformErrors[\"captchaError\"] = agreementRes.tempformError;\n    flags += agreementRes.flag; //?res.flag:0;\n\n    setFormErrors(tempformErrors);\n    setSubmitDisabled(flags > 0 ? true : false);\n    if (flags === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const fieldValidation = (field, value, ref = new Date()) => {\n    let flag = 0;\n    let tempformError = \"\";\n\n    if (!field.update && props.formType === \"put\") {\n      return { flag, tempformError };\n    }\n    if (!field.add && props.formType === \"post\") {\n      return { flag, tempformError };\n    }\n\n    if (!field.required && value.length === 0) {\n      return { flag, tempformError };\n    }\n\n    switch (field.validation) {\n      case \"email\":\n        const regex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g;\n        if (!regex.test(value)) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        }\n        break;\n      case \"cvv\":\n        if (!/^[0-9]{3}$/.test(value)) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        } // German credit cards typically have a 3-digit CVV\n        break;\n      case \"ccn\":\n        if (!/^[0-9]{16}$/.test(value)) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        }\n        let sum = 0;\n        for (let i = 0; i < value.length; i++) {\n          let digit = parseInt(value[i]);\n          if (i % 2 === 0) {\n            digit *= 2;\n            if (digit > 9) {\n              digit -= 9;\n            }\n          }\n          sum += digit;\n        }\n        if (sum % 10 !== 0) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        }\n        break;\n      case \"expiry\":\n        if (!validateExpiry(value)) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        }\n        break;\n      case \"fileNumber\":\n        const fileNumber = /[A-Z0-9-]/;\n        if (!fileNumber.test(value)) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        }\n        break;\n      case \"licensePlate\":\n        const german = /^[A-Z]{3}[ -]?[A-Z0-9]{2}[ -]?[A-Z0-9]{3,5}$/i;\n        if (!german.test(value)) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        }\n        break;\n      case \"greater\":\n        const referedDate = new Date(ref);\n        if (new Date(value) < referedDate) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        }\n        break;\n      case \"amount\":\n        const amount = /^\\d+([.,]\\d{1,2})?$/;\n        if (!amount.test(value)) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        }\n        break;\n      case \"datetime\":\n      case \"time\":\n        const date = /^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;\n        if (!date.test(value)) {\n          tempformError = t(\"validContent\", { label: t(field.label) });\n          flag += 1;\n        }\n        break;\n      case \"text\":\n        break;\n      default:\n        break;\n    }\n    if (field.type === \"image\" || field.type === \"file\") {\n      if (value.length === 0) {\n        tempformError = t(\"validContent\", { label: t(field.label) });\n        flag += 1;\n      }\n    } else {\n      if (field.required && value.length === 0) {\n        tempformError = t(\"required\", { label: t(field.label) });\n        flag += 1;\n      } else if (field.minimum > value.length) {\n        tempformError = t(\"requiredMinimum\", { minimum: field.minimum, label: t(field.label) });\n\n        flag += 1;\n      } else if (field.maximum < value.length) {\n        tempformError = t(\"maxLimit\", { maximum: field.maximum, label: t(field.label) });\n        flag += 1;\n      }\n    }\n    return { flag, tempformError };\n  };\n  function validateExpiry(expiry) {\n    let month = parseInt(expiry.substring(0, 2));\n    let year = parseInt(\"20\" + expiry.substring(3));\n    let now = new Date();\n    let currentYear = now.getFullYear();\n    let currentMonth = now.getMonth() + 1; // JavaScript months are 0-11\n    if (year < currentYear || (year === currentYear && month < currentMonth)) {\n      return false; // Expiry date is in the past\n    }\n    if (month < 1 || month > 12) {\n      return false; // Invalid month\n    }\n    return true;\n  }\n\n  useEffect(() => {}, [formState]);\n\n  const agreementValidation = (agreement, useCheckbox) => {\n    let flag = 0;\n    let tempformError = \"\";\n    if (agreement !== true && useCheckbox === true) {\n      tempformError = t(\"required\", { label: t(\"agreement\") });\n      flag += 1;\n    }\n    return { flag, tempformError };\n  };\n\n  const handleChange = (event, id, type = \"text\", sub = null) => {\n    // Getting current field\n    const field = formState[id];\n    if (sub === null) {\n      let value = \"\";\n      if (type === \"checkbox\") {\n        value = event.target.checked;\n      } else if (type === \"select\") {\n        value = event.id;\n      } else if (field.validation === \"licensePlate\") {\n        value = event.target.value\n          .toString()\n          .toUpperCase()\n          .replace(/[^a-zA-Z0-9ÄÖÜß]/g, \"\");\n      } else if (type === \"text\" || type === \"number\" || type === \"password\") {\n        value = event.target.value;\n      } else if (type === \"search\") {\n        value = JSON.stringify(event);\n      } else if (type === \"image\" || type === \"file\") {\n        value = event.target.files;\n      } else if (type === \"datetime\" || type === \"time\") {\n        value = event.toISOString();\n      } else if (type === \"date\") {\n        value = event.toISOString();\n      } else {\n        value = event.target.getAttribute(\"value\");\n      }\n      const udpateValue = {\n        ...formValues,\n        [field.name]: value,\n      };\n      // Creating an updated field\n      // updating the formm values\n      setFormValues(udpateValue);\n      // Validating the fields\n      if (validation(formState, udpateValue, formErrors)) {\n        // Here we can write any state updation\n      }\n    } else {\n      const main = formState[sub.index];\n      const field = main.forms[sub.multipleIndex][id];\n      const udpateValue = { ...formValues };\n      udpateValue[main.name][sub.multipleIndex][field.name] = event.target.value;\n      setFormValues(udpateValue);\n      // Validating the fields\n      if (validation(formState, udpateValue, formErrors)) {\n        // Here we can write any state updation\n      }\n    }\n  };\n\n  const submitChange = (event) => {\n    event.preventDefault();\n    if (validation(formState, formValues, formErrors)) {\n      props.submitHandler(formValues, formState);\n    }\n  };\n  const closeModal = () => {\n    props.isOpenHandler(false);\n  };\n\n  return (\n    <Overlay>\n      <Page>\n        <Header>{props.header ? props.header : \"Login\"}</Header>\n        <Form>{formState?.length > 0 && formState.map((item, index) => ((props.formType === \"put\" && item.update) || (props.formType === \"post\" && item.add) ? <FormInput placeholder={item.placeHolder} key={`input` + index} id={index} error={formErrors[formState[index].name]} value={formValues[formState[index].name]} {...item} onChange={handleChange} /> : \"\"))}</Form>\n\n        <Footer>\n          <FormInput type=\"close\" value={\"Cancel\"} onChange={closeModal} />\n          <FormInput disabled={submitDisabled} type=\"submit\" name=\"submit\" value={props.button ? props.button : \"Submit\"} onChange={submitChange} />\n        </Footer>\n      </Page>\n    </Overlay>\n  );\n};\n\nexport default CrudForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}